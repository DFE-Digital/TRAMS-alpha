{% macro appTrustSearch(trusts) %}
  <label class="govuk-body" for="search">
    Search for a Trust or Academy by name, URN, location or local authority
  </label>
  <div class="govuk-input__wrapper govuk-!-margin-top-4 dfe-autocomplete-wrapper--search">
    {# <input class="govuk-input dfe-search-input" id="search" name="search"> #}
    {# <div id="search"></div> #}
    {# <div class="autocomplete-wrapper"> #}
      <select name="search" id="search">
          <option value=""></option>
        {% for trust in trusts %}
          <option value="{{trust.uid}}">{{ trust.name }}</option>
        {% endfor %}
      </select>
    {# </div> #}
    <button class="govuk-button dfe-black-button dfe-inline-button" data-module="govuk-button" type="submit">
      <span class="govuk-visually-hidden">Search</span>
      <svg width="27" height="27" viewBox="0 0 27 27" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
        <circle cx="12.0161" cy="11.0161" r="8.51613" stroke="currentColor" stroke-width="3"></circle>
        <line x1="17.8668" y1="17.3587" x2="26.4475" y2="25.9393" stroke="currentColor" stroke-width="3"></line>
      </svg>
    </button>
  </div>

  <script src="/public/javascripts/accessible-autocomplete.min.js"></script>

  <script type="text/javascript">
    var selectEl = document.querySelector('#search')

    accessibleAutocomplete.enhanceSelectElement({
        autoselect: false, 
        defaultValue: '', 
        minLength: 2, 
        selectElement: selectEl,
      })
  </script>
{% endmacro %}